#lang rhombus
// change #lang shrubbery
import: "shp.rhm" open
        pict/radial as pr

fun cube(x :: Number):
  x*x*x
  
cube(4)
cube(1)
cube(10)
cube(cube(3))
println ("")

def eat= text("EAT",30,"darkgreen")
def rd_crcl = circle(45,"solid","red")
def grn_dmd = rotate(45,square(95, "solid", "darkgreen"))
def diamond_eat = overlay(grn_dmd,rd_crcl,eat)
diamond_eat
println ("")

fun diamond(string):
  def txt = text(string,30,"darkgreen")
  def rd_crcl = circle(45,"solid","red")
  def grn_dmd = rotate(45,square(95, "solid", "darkgreen"))
  overlay(grn_dmd,rd_crcl,txt)
def diamond_eat1 = diamond("EAT")
diamond_eat1
println ("")

def dipytch = beside(diamond("EAT"),diamond("DIE"))
dipytch
println ("")

def blue_arrow_on_yellow = overlay(circle(50,"solid","yellow"),above(triangle(45,"solid","blue"),rectangle(20,45,"solid","blue")))
blue_arrow_on_yellow
println ("")

fun arrow(clr1, clr2):
  overlay(circle(50,"solid",clr2),above(triangle(45,"solid",clr1),rectangle(20,45,"solid",clr1)))
arrow("blue", "yellow")
println("")

def blue_arrow_on_yellow1 = arrow("blue", "yellow")
def arrow1 = rotate(180, arrow("yellow","blue"))
def arrow2 = rotate(90,arrow("red", "darkgreen"))
def arrow3 = rotate(270,arrow("darkgreen", "red"))
def arrow4 = arrow("blue","yellow")
above(beside(arrow1,arrow2),beside(arrow3,arrow4))

// continue extra fun q12 place_image


fun trmph_of_tra(txt,txt_clr,bg_crcl_clr,sqr_clr,sml_crcl_clr,str_clr,rott):
  def bg_crcl = circle(150,"solid",bg_crcl_clr)
  def sqr = square(100,"solid",sqr_clr).rotate(rott)
  def sml_crcl = circle(100,"solid",sml_crcl_clr)
  def star = pr.star(~points:5, ~width:100,~fill:str_clr) // create a star function
  def tot_txt = text(txt,16,txt_clr)
  overlay(bg_crcl,sqr,sml_crcl,star,tot_txt)

def law = trmph_of_tra("LAW","blue","yellow","black","red","black",0.758)
def cat = trmph_of_tra("CAT","yellow","red","blue","black","red",0)
def tot_r1 = beside(law,square(10, "outline","black"), cat)

def men = trmph_of_tra("MEN","yellow","red","blue","red","black",0)
def sex = trmph_of_tra("SEX","blue","yellow","black","blue","red",0.758)
def tot_r2 = beside(men,square(10, "outline","black"),sex)

def tot_crcls = above(tot_r1,square(10, "outline","black"),tot_r2)
def triumph_of_tira = overlay(square(350,255,"black"),tot_crcls)
//triumph_of_tira

fun vertical_triband(clr1, clr2, clr3):
  def band1 = rectangle(50,100,"solid",clr1)
  def band2 = rectangle(50,100,"solid",clr2)
  def band3 = rectangle(50,100,"solid",clr3)
  beside(band1, band2, band3)
  
vertical_triband("blue", "white", "red")

fun horizontal_triband(clr1, clr2, clr3):
  def scaled_image = scale_xy(2/3,3/2,vertical_triband(clr1, clr2, clr3))
  rotate(270,scaled_image)

horizontal_triband("darkred", "white", "blue")
place_image(triangle(32,"solid","red"), 0, 0, rectangle(48,48,"solid","gray"))
place_image(triangle(32,"solid","red"), 24, 24, rectangle(48,48,"solid","gray"))
place_image(triangle(64,"solid","red"), 24, 24, rectangle(48,48,"solid","gray"))

place_image(
  circle(4,"solid","white"),
  18,
  20,
  place_image(
    circle(4,"solid","white"),
    0,
    6,
    place_image(
      circle(4,"solid","white"),
      14,
      2,
      place_image(
        circle(4,"solid","white"),
        8,
        14,
        rectangle(24,24,"solid","goldenrod")
      )
    )
  )
)

circle(20,"outline","red")
circle(20,"solid","blue")
circle(20,100,"blue")

// ask about the \n in p.text(string,~font:draw.Font(~size:font_size)).colorize(color)
// p.text("Hello\nWorld!",~font:draw.Font(~size:24)).colorize("darkgreen")
// ask about this as it might be a bug
/*
p.line(~dy:1, ~dx: 10, ~line_width: 30)
p.line(~dx: 1, ~dy: 10, ~line: "blue", ~line_width: 3)
p.line(~dx: 10, ~dy: 10)
p.line(~dx: 10, ~line_width: 3)
p.line(~dy: 10, ~line: "blue", ~line_width: 3)
p.line(~dx: 10, ~dy: 10)

circle(20,255,"red") is_a p.Pict
*/
// above(triangle(100,"solid","red"),rotate(180,triangle(100,"solid","red")))
/*
rx'"hello"'.match("hello")
rx'"hello world hello how are hello you"'.match("hello")
rx'"\n"'.split("a\nb")
*/
/*
//p.stack(& rainbow( p.square(~size:10,~fill:#'inherit)))
place_image(triangle(100,"solid","red"), 24, 24, rectangle(48,48,"solid","gray"))
def scene = rectangle(48,48,"solid","gray")
def image = triangle(100,"solid","red")
def x1=24
def y =24
p.pin(~on: scene,~at: p.Find.left_top(scene,~dx:x1,~dy:y),~pinhole: p.Find.center(image),image)

p.pin(~on: scene,~at: p.Find.left_top(scene,~dx:x1,~dy:y),~pinhole: p.Find.center(image),image.clip().pad())

p.pin(~on: scene,~at: p.Find.left_top(scene,~dx:x1,~dy:y),~pinhole: p.Find.center(image),image).clip() // do this
*/